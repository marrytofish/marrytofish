<!DOCTYPE html>
<html>
<head>
  <title>如果我们不曾相遇</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
  <style type="text/css">
    /*typed.js*/
    .typed-cursor{
      opacity: 1;
      -webkit-animation: typedjsBlink 0.7s infinite;
              animation: typedjsBlink 0.7s infinite;
    }

    @keyframes typedjsBlink{
      50% { opacity: 0.0; }
    }

    @-webkit-keyframes typedjsBlink{
      0% { opacity: 1; }
      50% { opacity: 0.0; }
      100% { opacity: 1; }
    }
  
    .typed-fade-out{
      opacity: 0;
      transition: opacity .25s;
      -webkit-animation: 0;
              animation: 0;
    }

    /*dom*/
    html, body {
      margin: 0;
      padding: 0;
    }

    body {
      height: 100vh;
      width: 100vw;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }

    .wrapper {
      height: 40px;
      line-height: 40px;
      width: 90%;
      font-size: 18px;
      background: rgba(255, 255, 255, .7);
      border-radius: 50px;
      color: #a300ff;
      font-weight: 900;
    }

    .wrapper > .element {
      padding-left: 30px;
    }

    /*bg*/
    .img {
      position: absolute;
      width: 100%;
      height: 100%;
      transition: opacity 5s;
    }

    .z-index-1 {
      z-index: -99;
    }

    .z-index-2 {
      z-index: -100;
    }

    .z-index-3 {
      z-index: -101;
    }

    .z-index-4 {
      z-index: -102;
    }

    .hide {
      opacity: 0;
    }

    /* 兼容 PC */
    @media (min-width: 768px) {
      .wrapper {
        height: 60px;
        line-height: 60px;
        font-size: 28px;
      }

      .wrapper > .element {
        padding-left: 400px;
      }
    } 
  </style>
</head>
<body>
<img class="z-index-1 img" src="image/bg.jpg" />
<img class="z-index-2 img" src="image/3.jpg" />
<img class="z-index-3 img" src="image/2.jpg" />
<img class="z-index-4 img" src="image/1.jpg" />
<div class="wrapper">
  <span class="element"></span>
</div>

<audio src="music/ifwehavenevermet.mp3" controls="controls" style="display: none">
</audio>

<script src="//cdn.bootcss.com/typed.js/2.0.6/typed.min.js"></script>

<!-- 解决 audio 标签在 ios 下无法自动播放的问题 -->
<script src="//res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
<script>
  document.querySelector('audio').play();

  document.addEventListener("WeixinJSBridgeReady", function () {
    document.querySelector('audio').play();
  }, false);
    
  var strings = [
    "如果我们不曾相遇",
    "我会是在哪里？",
    "^5000时光荏苒",
    "一转眼 ^500我们已经在一起三年有余",
    "对于年轻人来说",
    "三年五年也许就是一生一世",
    "而对于我而言",
    "希望来生来世 ^500都是和你一起度过",
    "^2000曾经的誓言 ^500我都不会忘记",
    "天真岁月不忍欺",
    "青春荒唐我不负你",
    "如今 ^500我做到了",
    "今天 ^500我向你承诺",
    "从今以后",
    "我们只有死别",
    "^500我们再无生离",
    "^2000我会照顾你",
    "不会对你发脾气",
    "包容你的缺点和坏脾气",
    "^1000这世间",
    "唯有好女孩和梦想不可辜负",
    "^1000我决定彻底插手你的人生",
    "和你一起爱你的爸爸妈妈",
    "^1000苍狗又白云 ^500身旁有了你",
    "匆匆轮回又有何惧？",
    "^2000亲爱的",
    "^1000我们结婚吧！",
    "^1000让我们的故事继续！",
    "^3000倩慧，^500嫁给我吧！",
  ]

  var typed = new Typed('.element', {
    // stringsElement: '#typed-strings',
    strings: strings, 
    typeSpeed: 200,
    backSpeed: 0,
    backDelay: 1000,
    startDelay: 5000,
    showCursor: true,
    fadeOut: true,
    fadeOutClass: 'typed-fade-out',
    // cursorChar: '|',
    // autoInsertCss: true,
  });


  // change bg
  setTimeout(() => {
    document.querySelector('.z-index-1').classList.add('hide')
  }, 1000 * 40) // 43

  setTimeout(() => {
    document.querySelector('.z-index-2').classList.add('hide')
  }, 1000 * 73) // 76

  setTimeout(() => {
    document.querySelector('.z-index-3').classList.add('hide')
  }, 1000 * 115)
</script>
</body>
</html>